<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Képek – Cseligevi Vendégház</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="favicon.png">
  <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body{font-family:Poppins,system-ui,-apple-system,"Segoe UI",Roboto,Ubuntu,"Helvetica Neue",sans-serif}
    .hero-gallery{position:relative;min-height:48vh;background:url('images/hero_gallery.jpg') center/cover no-repeat;display:grid;place-items:center}
    .hero-gallery::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,#00000033,#00000077)}
    .hero-overlay{position:relative;text-align:center;color:#fff;padding:28px}
    .hero-overlay h1{font-size:clamp(26px,6vw,52px);margin:0 0 8px}
    .hero-overlay p{opacity:.9;margin:0}
    .page{max-width:1200px;margin:0 auto;padding:24px}
    .gallery-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}
    @media (max-width:1100px){.gallery-grid{grid-template-columns:repeat(3,1fr)}}
    @media (max-width:800px){.gallery-grid{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:520px){.gallery-grid{grid-template-columns:1fr}}
    .card{position:relative;border-radius:16px;overflow:hidden;background:#ffffff;box-shadow:0 8px 28px #00000014;transition:transform .3s ease,box-shadow .3s ease}
    .card:hover{transform:translateY(-3px);box-shadow:0 16px 36px #00000022}
    .thumb{width:100%;height:240px;object-fit:cover;display:block}
    .card video.thumb{background:#000;}
    .info{position:absolute;left:12px;bottom:12px;background:#00000066;color:#fff;padding:6px 10px;border-radius:12px;font-size:13px}
    .btn{border-radius:16px}
    .section-title{display:flex;align-items:center;justify-content:space-between;margin:18px 0}
    .section-title h2{margin:0;font-size:clamp(20px,3.5vw,28px)}
    .fade{opacity:0;transform:translateY(14px);transition:opacity .6s ease,transform .6s ease}
    .fade.visible{opacity:1;transform:none}
    .lightbox{position:fixed;inset:0;background:#000000cc;display:none;align-items:center;justify-content:center;z-index:9990;padding:16px}
    .lightbox.open{display:flex}
    .lightbox img,.lightbox video{max-width:92vw;max-height:82vh;border-radius:16px;box-shadow:0 10px 40px #00000055}
    .lightbox .close{position:absolute;top:12px;right:12px;background:#ffffff;color:#1b4235;border:none;border-radius:12px;padding:10px 14px;font-weight:700;cursor:pointer}
  </style>
  <!-- React + ReactDOM + Babel (CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7/babel.min.js"></script>
</head>
<body>
  <div data-include="navbar.html"></div>

  <header class="hero-gallery fade">
    <div class="hero-overlay">
      <h1>Képek</h1>
      <p>Válogatás a vendégházból és a környékről</p>
      <div style="margin-top:14px">
        <a class="btn" href="arak.html">Foglalj most</a>
      </div>
    </div>
  </header>

  <main class="page">
    <div class="section-title fade">
      <h2>Galéria</h2>
      <div><a class="btn btn-outline" href="vendeghaz.html">Vissza a vendégházhoz</a></div>
    </div>
    <div id="gallery-root" class="fade"></div>
  </main>

  <div data-include="footer.html"></div>

  <script type="text/babel">
    const { useEffect, useState } = React;

    function Lightbox({ item, onClose }) {
      if (!item) return null;
      return (
        <div className="lightbox open" onClick={onClose}>
          <button className="close" onClick={onClose}>Bezár</button>
          {item.type === 'image' ? (
            <img src={item.src} alt={item.alt || 'Kép'} onClick={e=>e.stopPropagation()} />
          ) : (
            <video src={item.src} controls playsInline onClick={e=>e.stopPropagation()} />
          )}
        </div>
      );
    }

    function DomeGallery({ items }) {
      const [lightboxItem, setLightboxItem] = useState(null);

      useEffect(() => {
        const els = document.querySelectorAll('.fade');
        const io = new IntersectionObserver(entries=>{
          entries.forEach(e=>{ if(e.isIntersecting) e.target.classList.add('visible'); });
        },{ threshold: .2 });
        els.forEach(el=>io.observe(el));
        return () => io.disconnect();
      }, []);

      return (
        <>
          <div className="gallery-grid">
            {items.map((item, idx) => (
              <figure key={idx} className="card" onClick={() => setLightboxItem(item)} title="Megnyitás">
                {item.type === 'image' ? (
                  <img className="thumb" loading="lazy" src={item.src} alt={item.alt || 'Kép'} />
                ) : (
                  <video className="thumb" muted playsInline loop src={item.src}></video>
                )}
                {item.label && <figcaption className="info">{item.label}</figcaption>}
              </figure>
            ))}
          </div>
          <Lightbox item={lightboxItem} onClose={() => setLightboxItem(null)} />
        </>
      );
    }

    const items = [
      { type:'image', src:'images/nappali1.jpg', alt:'Nappali', label:'Nappali' },
      { type:'image', src:'images/konyha1.jpg', alt:'Konyha', label:'Konyha' },
      { type:'image', src:'images/halo1.jpg', alt:'Hálószoba', label:'Hálószoba' },
      { type:'image', src:'images/terasz1.jpg', alt:'Terasz', label:'Terasz' },
      { type:'image', src:'images/kert1.jpg', alt:'Kert', label:'Kert' },
      { type:'image', src:'images/panorama1.jpg', alt:'Panoráma', label:'Panoráma' },
      { type:'video', src:'videos/galeria1.mp4', label:'Hangulat' },
      { type:'image', src:'images/nappali2.jpg', alt:'Nappali 2', label:'Nappali' },
      { type:'image', src:'images/konyha2.jpg', alt:'Konyha 2', label:'Konyha' },
      { type:'image', src:'images/terasz2.jpg', alt:'Terasz 2', label:'Terasz' },
      { type:'video', src:'videos/galeria2.mp4', label:'Környék' },
      { type:'image', src:'images/szauna1.jpg', alt:'Szauna', label:'Szauna' },
      { type:'image', src:'images/kilato1.jpg', alt:'Kilátó', label:'Kilátó' },
      { type:'image', src:'images/szurdik1.jpg', alt:'Szurdik', label:'Szurdik' },
      { type:'video', src:'videos/galeria3.mp4', label:'Túra' }
    ];

    ReactDOM.createRoot(document.getElementById('gallery-root')).render(<DomeGallery items={items} />);
  </script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.fade').forEach(el => el.classList.add('visible'));
    });
  </script>

  <script src="animation.js"></script>
  <script src="include.js"></script>
</body>
</html>
